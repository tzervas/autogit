# GitLab CE Configuration for AutoGit
# Copy this file to .env and customize for your environment

# GitLab External URL (change to your domain)
# Note: This value is used directly by GitLab's OMNIBUS_CONFIG; avoid extra quotes
GITLAB_OMNIBUS_CONFIG=external_url "http://localhost:3000"

# GitLab Root Password (CHANGE THIS!)
# Must be at least 12 characters with uppercase, lowercase, number, and symbol
GITLAB_ROOT_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# GitLab Root User Settings
GITLAB_ROOT_USERNAME=root
GITLAB_ROOT_EMAIL=admin@autogit.local
GITLAB_ROOT_NAME=Administrator

# GitLab SSH Port (external port mapping)
GITLAB_SSH_PORT=2222

# GitLab HTTP Port (external port mapping)
GITLAB_HTTP_PORT=3000

# GitLab HTTPS Port (external port mapping)
GITLAB_HTTPS_PORT=3443

# Volume Configuration
# Persistent storage paths - change these to use bind mounts instead of named volumes
# Leave commented to use Docker named volumes (default, recommended for easy version updates)
# Uncomment and set paths for bind mounts if you need direct filesystem access

# Configuration volume - stores GitLab configuration files
# Default: Docker named volume 'git-config'
# GITLAB_CONFIG_VOLUME=./data/gitlab/config

# Logs volume - stores GitLab logs
# Default: Docker named volume 'git-logs'
# GITLAB_LOGS_VOLUME=./data/gitlab/logs

# Data volume - stores repositories, artifacts, uploads, LFS objects, CI artifacts, packages, etc.
# Default: Docker named volume 'git-data'
# This is the primary storage for repository data and should have the most space
# GITLAB_DATA_VOLUME=./data/gitlab/data

# Volume Size Hints (for reference - actual allocation depends on Docker/filesystem)
# These are recommended minimum sizes for production use with comfortable padding:
# - git-config: 1 GB (GitLab configuration files)
# - git-logs: 5 GB (Application and access logs with rotation)
# - git-data: 50 GB minimum (repositories, artifacts, uploads, packages, container registry)
#   * Adjust git-data based on expected repository count and size
#   * Recommend 100+ GB for active development teams
#   * Recommend 500+ GB for large organizations with CI/CD artifacts and container registry

# Authentication Settings
# Disable user signup to prevent unauthorized registrations (recommended for private installations)
GITLAB_SIGNUP_ENABLED=false

# Session timeout in minutes (default: 7 days = 10080 minutes)
GITLAB_SESSION_EXPIRE_DELAY=10080

# Minimum password length (default: 12)
GITLAB_MINIMUM_PASSWORD_LENGTH=12
