# GitLab CE Configuration for AutoGit
# Copy this file to .env and customize for your environment

# Architecture Configuration (AMD64 native for MVP)
ARCH=amd64

# GitLab External URL (change to your domain)
GITLAB_OMNIBUS_CONFIG="external_url 'http://localhost:3000'"

# GitLab Root Password (CHANGE THIS!)
GITLAB_ROOT_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# GitLab SSH Port (external port mapping)
GITLAB_SSH_PORT=2222

# GitLab HTTP Port (external port mapping)
GITLAB_HTTP_PORT=3000

# GitLab HTTPS Port (external port mapping)
GITLAB_HTTPS_PORT=3443

# PostgreSQL settings (GitLab uses internal PostgreSQL by default)
# These are for reference - GitLab CE manages its own database
POSTGRESQL_SHARED_BUFFERS=256MB
POSTGRESQL_MAX_CONNECTIONS=200

# Redis settings (GitLab uses internal Redis by default)
REDIS_MAXMEMORY=256mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# Runner registration token (generate after first start)
# GITLAB_RUNNER_REGISTRATION_TOKEN=

# Email configuration (optional)
# GITLAB_EMAIL_ENABLED=false
# GITLAB_EMAIL_FROM=gitlab@autogit.local
# GITLAB_EMAIL_REPLY_TO=noreply@autogit.local

# LDAP configuration (optional, for enterprise auth)
# GITLAB_LDAP_ENABLED=false
# GITLAB_LDAP_HOST=ldap.example.com
# GITLAB_LDAP_PORT=389
# GITLAB_LDAP_BASE=dc=example,dc=com

# Backup configuration
GITLAB_BACKUP_SCHEDULE=daily
GITLAB_BACKUP_TIME=01:00

# Logging level
GITLAB_LOG_LEVEL=info

# Resource limits (adjust based on your needs)
GITLAB_MEMORY_LIMIT=4g
GITLAB_CPU_LIMIT=2

# Feature flags
GITLAB_SIGNUP_ENABLED=false
GITLAB_PROJECTS_LIMIT=100
